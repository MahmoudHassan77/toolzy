import { useLocation } from 'react-router-dom'
import { useTheme } from '../../contexts/ThemeContext'

const titles: Record<string, string> = {
  '/': 'Dashboard',
  '/browser': 'Interview Questions Browser',
  '/tracker': 'Interview Tracker',
  '/pdf-editor': 'PDF Editor',
  '/pdf-to-word': 'PDF to Word',
}

export default function TopBar() {
  const { pathname } = useLocation()
  const title = titles[pathname] ?? 'Toolzy'
  const { isDark, toggle } = useTheme()

  return (
    <header className="h-14 bg-surface border-b border-line flex items-center px-6 shrink-0 justify-between">
      <h1 className="text-base font-semibold text-fg1">{title}</h1>
      <button
        onClick={toggle}
        title={isDark ? 'Switch to light mode' : 'Switch to dark mode'}
        className="w-8 h-8 flex items-center justify-center rounded-lg text-fg2 hover:bg-raised hover:text-fg1 transition-colors"
      >
        {isDark ? (
          /* Sun icon */
          <svg viewBox="0 0 24 24" className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <circle cx="12" cy="12" r="5" />
            <line x1="12" y1="1" x2="12" y2="3" />
            <line x1="12" y1="21" x2="12" y2="23" />
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
            <line x1="1" y1="12" x2="3" y2="12" />
            <line x1="21" y1="12" x2="23" y2="12" />
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
          </svg>
        ) : (
          /* Moon icon */
          <svg viewBox="0 0 24 24" className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
          </svg>
        )}
      </button>
    </header>
  )
}
